{"version":3,"sources":["web/front/src/semapps-axo/semapps-axo.js"],"names":["Polymer","is","attached","SemAppsCarto","ready","this","start","bind","_this","domHost","axoReady","zones","querySelectorAll","fills","forEach","element","index","batiment","parentNode","addEventListener","e","el","style","fill","className","baseVal","id","goToDetail","uri","semapps","scrollToContent","myRoute","goToPath","window","encodeURIComponent"],"mappings":"YAAAA,UACIC,GAAI,cAGJC,SAJI,WAKAC,aAAaC,MAAMC,KAAKC,MAAMC,KAAKF,QAGvCC,MARI,WAQG,GAAAE,GAAAH,IAEHA,MAAKI,QAAQC,UAEb,IAAIC,GAAQN,KAAKO,iBAAiB,+FAC9BC,EAAQR,KAAKO,iBAAiB,qFAElCD,GAAMG,QAAQ,SAACC,EAASC,GAUpB,GAAIC,GAAWF,EAAQG,WAAWA,UAClCH,GAAQI,iBAAiB,QAAS,SAACC,GAK/B,OAJAP,EAAMC,QAAQ,SAAAO,GACVA,EAAGC,MAAMC,KAAO,gBAEpBV,EAAMG,GAAOQ,UAAUC,QAAU,MACzBR,EAASS,IACb,IAAK,MACLlB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,SACLnB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,WACLnB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,YACLnB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,SACLnB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,eACLnB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,aACLnB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,mBACLnB,EAAKmB,WAAW,qEACZ,MACJ,KAAK,eACLnB,EAAKmB,WAAW,4EAShCA,WAlEI,SAkEOC,GAEPC,QAAQC,kBACRD,QAAQE,QAAU,SAClBF,QAAQG,SAAS,UACbJ,IAAKK,OAAOC,mBAAmBN","file":"semapps-axo.min.js","sourcesContent":["Polymer({\n    is: 'semapps-axo',\n\n    // Wait all HTML to be loaded.\n    attached() {\n        SemAppsCarto.ready(this.start.bind(this));\n    },\n\n    start(){\n        //Lance la methode axoReady du map handler TODO: a transformer en observer\n        this.domHost.axoReady();\n\n        let zones = this.querySelectorAll('g[id^=\"Selection_\"] > path, g[id^=\"Selection_9\"] > polygon, g[id^=\"Selection_2\"] > g > path');\n        let fills = this.querySelectorAll('g[id^=\"Fill_\"] > path, g[id^=\"Fill_9\"] > polygon,  g[id^=\"Selection_2\"] > g > path');\n\n        zones.forEach((element, index) => {\n\n            // element.addEventListener('mouseover', (el) => {\n                \n            //     fills[index].style.fill = \"green\";\n            // });\n\n            // element.addEventListener('mouseout', (el) => {\n            //     fills[index].style.fill = \"transparent\";\n            // });\n            let batiment = element.parentNode.parentNode;\n            element.addEventListener('click', (e) => {\n                fills.forEach(el => {\n                    el.style.fill = \"transparent\";\n                })\n                fills[index].className.baseVal = \"red\";\n                switch (batiment.id) { //TODO: A changer vers une maniere plus generique par fichier de conf\n                    case 'CED':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/6349042113-2132451547');\n                        break;\n                    case 'Pinard':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/6561133263-2120997963');\n                        break;\n                    case 'Lingerie':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/8046535766-7531738953');\n                        break;\n                    case 'Colombani':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/1862408720-1222076375');\n                        break;\n                    case 'Rapine':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/6399501207-2309910533');\n                        break;\n                    case 'Pierre_petit':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/9416106748-5109974912');\n                        break;\n                    case 'Cour_Robin':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/7237770507-7666579130');\n                        break;\n                    case 'Cour_Oratoire_1_':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/6954970359-6996007704');\n                        break;\n                    case 'Selection_2_':\n                    this.goToDetail('https://reseau.lesgrandsvoisins.org:9000/ldp/6164322723-4376675404');\n                        break;\n                    default:\n                        break;\n                }\n            });\n        })\n    },\n\n    goToDetail(uri){\n\n        semapps.scrollToContent();\n        semapps.myRoute = \"detail\";\n        semapps.goToPath('detail', {\n            uri: window.encodeURIComponent(uri)\n        });\n    }\n\n\n});"]}