{"version":3,"sources":["web/front/src/semapps-map-pin/semapps-map-pin.js"],"names":["Polymer","is","properties","display","type","String","value","x","Number","y","text","building","fixedDisplay","attached","semapps","buildings","this","schema","pinsRegistry","domWrapper","querySelector","$wrapper","$$","buildingSelected","select","show","classList","remove","add","hide","deselect","handleClick","buildingClick","handleMouseOver","buildingHighlight","handleStopFixedSelection","buildingSelect"],"mappings":"YAAAA,UACIC,GAAI,kBACJC,YACIC,SACIC,KAAMC,OACNC,MAAO,QAEXC,GACIH,KAAMI,OACNF,MAAO,GAEXG,GACIL,KAAMI,OACNF,MAAO,GAEXI,MACIN,KAAMC,OACNC,MAAO,GAEXK,UACIP,KAAMC,OACNC,MAAO,IAEXM,cACIR,KAAMC,OACNC,MAAO,SAIfO,SA7BI,eAgCqD,KAAzCC,QAAQC,UAAUC,KAAKL,UAAUJ,GAA6D,MAAtCO,QAAQC,UAAUC,KAAKL,UAAUJ,GACjGO,QAAQG,OAAOC,aAAaF,KAAKL,UAAYK,KAC7CA,KAAKT,EAAIO,QAAQC,UAAUC,KAAKL,UAAUJ,EAC1CS,KAAKP,EAAIK,QAAQC,UAAUC,KAAKL,UAAUF,EAC1CO,KAAKG,WAAaH,KAAKI,cAAc,4BACrCJ,KAAKK,SAAWL,KAAKM,GAAG,4BACpBN,KAAKL,WAAaG,QAAQS,kBAC1BP,KAAKQ,UAGTV,QAAQG,OAAOC,aAAaF,KAAKL,UAAY,MAIrDc,KA9CI,SA8CCf,GAEDM,KAAKN,KAAOA,EACZM,KAAKb,QAAU,GACfa,KAAKG,WAAWO,UAAUC,OAAO,WACjCX,KAAKG,WAAWO,UAAUE,IAAI,WAGlCC,KAtDI,WAwDAb,KAAKb,QAAU,OACfa,KAAKG,WAAWO,UAAUC,OAAO,UACjCX,KAAKG,WAAWO,UAAUE,IAAI,YAGlCJ,OA7DI,WA+DAR,KAAKK,SAASK,UAAUE,IAAI,aAGhCE,SAlEI,WAoEAd,KAAKK,SAASK,UAAUC,OAAO,aAGnCI,YAvEI,WAyEqB,SAAjBf,KAAKb,SAELW,QAAQG,OAAOe,cAAchB,KAAKL,WAAaG,QAAQS,kBAAoBP,KAAKL,WAIxFsB,gBA/EI,WAiFAnB,QAAQG,OAAOiB,kBAAkBlB,KAAKL,WAG1CwB,yBApFI,WAsFArB,QAAQG,OAAOmB","file":"semapps-map-pin.min.js","sourcesContent":["Polymer({\n    is: 'semapps-map-pin',\n    properties: {\n        display: {\n            type: String,\n            value: 'none'\n        },\n        x: {\n            type: Number,\n            value: 0\n        },\n        y: {\n            type: Number,\n            value: 0\n        },\n        text: {\n            type: String,\n            value: 0\n        },\n        building: {\n            type: String,\n            value: ''\n        },\n        fixedDisplay: {\n            type: String,\n            value: 'none'\n        }\n    },\n\n    attached() {\n        \"use strict\";\n\n        if (typeof( semapps.buildings[this.building].x ) !== \"undefined\" || semapps.buildings[this.building].x != null) {\n            semapps.schema.pinsRegistry[this.building] = this;\n            this.x = semapps.buildings[this.building].x;\n            this.y = semapps.buildings[this.building].y;\n            this.domWrapper = this.querySelector('.semapps-map-pin-wrapper');\n            this.$wrapper = this.$$('.semapps-map-pin-wrapper');\n            if (this.building === semapps.buildingSelected) {\n                this.select();\n            }\n        }else{\n            semapps.schema.pinsRegistry[this.building] = null;\n        }\n    },\n\n    show(text) {\n        \"use strict\";\n        this.text = text;\n        this.display = '';\n        this.domWrapper.classList.remove('fadeOut');\n        this.domWrapper.classList.add('fadeIn');\n    },\n\n    hide() {\n        \"use strict\";\n        this.display = 'none';\n        this.domWrapper.classList.remove('fadeIn');\n        this.domWrapper.classList.add('fadeOut');\n    },\n\n    select() {\n        \"use strict\";\n        this.$wrapper.classList.add('selected');\n    },\n\n    deselect() {\n        \"use strict\";\n        this.$wrapper.classList.remove('selected');\n    },\n\n    handleClick() {\n        \"use strict\";\n        if (this.display !== 'none') {\n            // Select building or deselect if already selected.\n            semapps.schema.buildingClick(this.building !== semapps.buildingSelected && this.building);\n        }\n    },\n\n    handleMouseOver() {\n        \"use strict\";\n        semapps.schema.buildingHighlight(this.building);\n    },\n\n    handleStopFixedSelection() {\n        \"use strict\";\n        semapps.schema.buildingSelect();\n    }\n});\n"]}